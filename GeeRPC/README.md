## GeeRPC 注意点

### 2022-5-5
#### 超时处理

- 客户端需要处理的超时
  1. 与服务端建立连接，导致的超时
  2. 发送请求的写超时
  3. 等待服务端处理的超时（例如服务器已挂死，迟迟不响应）
  4. 从服务端接收的读超时
- 服务端需要处理的超时
  1. 读客户端请求的读超时
  2. 处理的超时
  3. 向客户端写响应的写超时
- 在 GeeRPC 中添加了三处超时处理机制：
  1. 在客户端创建与服务端的连接时（`client.dialTimeout()`）
  2. 客户端在 `client.Call()` 统一处理整个过程产生的超时（包含客户端发送报文、等待服务端处理、客户端接收报文）
  3. 服务端处理报文时（`Server.handleRequest`）